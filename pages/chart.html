<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ hàng - KhoaFood</title>
    <link rel="stylesheet" href="/css/chart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="/images/logo.png" alt="KhoaFood Logo">
            <span>KhoaFood</span>
        </div>
        <nav>
            <a href="home.html">Trang chủ</a>
            <a href="menu.html">Menu</a>
            <a href="how_it_works.html">Cách hoạt động</a>
            <a href="about_us.html">Về chúng tôi</a>
            <a href="user_profile.html">Tài khoản</a>
            <a href="admin_dashboard.html">Admin</a>
        </nav>
        <div class="user-actions">
            <a href="chart.html" class="cart-btn active">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </a>
            <a href="login_register.html" class="login-btn" id="auth-btn">
                <i class="fas fa-user"></i>
                <span id="auth-text">Đăng nhập</span>
            </a>
        </div>
    </header>

    <main>
        <section class="chart-section">
            <h1>Giỏ hàng của bạn</h1>
            <div id="cart-container">
                <!-- Giỏ hàng sẽ được tải từ backend -->
                <div class="loading">Đang tải giỏ hàng...</div>
            </div>
            
            <!-- Phân trang -->
            <div id="cart-pagination" class="pagination" style="display: none;">
                <button id="prev-page" class="pagination-btn">
                    <i class="fas fa-chevron-left"></i> Trước
                </button>
                <span id="page-info">Trang 1 / 1</span>
                <button id="next-page" class="pagination-btn">
                    Sau <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div id="cart-summary" style="display: none;">
                <div class="summary-content">
                    <div class="summary-row">
                        <span>Tổng số lượng:</span>
                        <span id="total-quantity">0 món</span>
                    </div>
                    <div class="summary-row">
                        <span>Tổng tiền:</span>
                        <span id="total-price">0 VND</span>
                    </div>
                    <div class="promotion-section">
                        <h3>Mã giảm giá</h3>
                        <div class="promotion-select">
                            <select id="promotion-select">
                                <option value="">Chọn mã giảm giá</option>
                            </select>
                            <button id="view-promotion-details" class="view-details-btn" disabled>
                                <i class="fas fa-info-circle"></i> Chi tiết
                            </button>
                        </div>
                        <div id="applied-promotion" class="applied-promotion" style="display: none;">
                            <div class="discount-info">
                                <span>Giảm giá: <span id="discount-amount">0</span>%</span>
                                <span>Tiết kiệm: <span id="saved-amount">0</span> VND</span>
                            </div>
                            <div class="final-price">
                                <span>Tổng thanh toán:</span>
                                <span id="final-price">0 VND</span>
                            </div>
                        </div>
                    </div>
                    <div class="payment-methods">
                        <h3>Phương thức thanh toán</h3>
                        <div class="payment-options">
                            <div class="payment-option">
                                <label for="cod">
                                    <div class="payment-info">
                                        <i class="fas fa-money-bill-wave"></i>
                                        <span>Thanh toán khi nhận hàng (COD)</span>
                                    </div>
                                    <input type="radio" id="cod" name="payment-method" value="COD" checked>
                                </label>
                            </div>
                            <div class="payment-option">
                                <label for="banking">
                                    <div class="payment-info">
                                        <i class="fas fa-university"></i>
                                        <span>Chuyển khoản ngân hàng</span>
                                    </div>
                                    <input type="radio" id="banking" name="payment-method" value="BANKING">
                                </label>
                            </div>
                        </div>
                    </div>
                    <button id="checkout-btn" class="checkout-btn">
                        <i class="fas fa-shopping-bag"></i>
                        <span>Đặt hàng - <span id="checkout-price">0 VND</span></span>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Công ty</h4>
                <a href="about_us.html">Về chúng tôi</a>
                <a href="how_it_works.html">Cách hoạt động</a>
                <a href="careers.html">Tuyển dụng</a>
            </div>
            <div class="footer-section">
                <h4>Chính sách</h4>
                <a href="faq.html">FAQ</a>
                <a href="privacy.html">Bảo mật</a>
                <a href="shipping.html">Vận chuyển</a>
            </div>
            <div class="footer-section">
                <h4>Liên hệ</h4>
                <p><i class="fas fa-phone"></i> +62 896 7311 2766</p>
                <p><i class="fas fa-envelope"></i> food@example.com</p>
            </div>
            <div class="footer-section">
                <div class="footer-logo">
                    <img src="/images/logo.png" alt="KhoaFood Logo">
                    <span>KhoaFood</span>
                </div>
                <p><i class="fas fa-map-marker-alt"></i> Hà Đông, Hà Nội</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>© 2025 KhoaFood. ALL RIGHT RESERVED.</p>
        </div>
    </footer>

    <!-- Loading spinner -->
    <div id="loading" class="loading" style="display: none;">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast message -->
    <div id="message-toast" class="message-toast" style="display: none;">
        <span id="toast-message"></span>
    </div>

    <!-- Modal xem chi tiết mã giảm giá -->
    <div id="promotion-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Chi tiết mã giảm giá</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="promotion-details">
                    <div class="detail-row">
                        <span class="label">Mã:</span>
                        <span id="modal-code" class="value"></span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Giảm giá:</span>
                        <span id="modal-discount" class="value"></span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Mô tả:</span>
                        <p id="modal-description" class="value"></p>
                    </div>
                    <div class="detail-row">
                        <span class="label">Thời gian:</span>
                        <div id="modal-validity" class="value">
                            <div>Bắt đầu: <span id="modal-start-date"></span></div>
                            <div>Kết thúc: <span id="modal-end-date"></span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/chart.js"></script>
</body>
</html>